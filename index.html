<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>金融频道</title>
		<link rel="stylesheet" type="text/css" href="css/swiper.min.css"/>
		<link rel="stylesheet" type="text/css" href="css/main.css"/>
	</head>
	<body>
		<div id="app" v-cloak>
			<div class="swiper-container bannerswiper borderbottomgray">
				<div class="swiper-wrapper">
					<div class="swiper-slide" v-for="item in bannerList" :key="item.id">
						<a :href="item.url">
							<img class="slideimg" :src="item.img" />
						</a>
					</div>
				</div>
				<!-- 如果需要分页器 -->
				<div class="swiper-pagination"></div>
			</div>
			<div class="onlineBrand borderbottomgray">
				<div class="text">品牌活动</div>
				<div class="onlineswiper">
					<div class="swiper-wrapper">
						<div class="swiper-slide onlineslide" v-for="item in onlinelist" :key="item.id">
							<img src="src/hot.png" class="hot" v-if="item.ishot" />
							<img class="onlineimg" :src="item.img">
							<div v-text="item.text"></div>
						</div>
					</div>
				</div>
			</div>
			<div class='bargain borderbottomgray'>
				<div class='text'>超值特惠</div>
				<a v-for="(item , index) in tehui" :class="'top'+(index+1)" :key="item.id" :href="item.url">
					<img class="bargainimg" :src='item.img' />
				  	<div class='tag'>No.{{index+1}}</div>
				  	<div v-if="!!item.title" class="bargaintitle oneline">{{item.title}}</div>
				  	<div v-if="!!item.name">
					  	<!-- <div class="bbtn">无卡申请</div> -->
					  	<div class="bname oneline">{{item.name}}</div>
				  	</div>
				</a>
			 </div>
			 <div class="recommend borderbottomgray">
			 	<div class='text'>专属推荐</div>
			 	<div class="recommendswiper">
					<div class="swiper-wrapper">
						<div class="swiper-slide recommendslide"  v-for="item in recommendlist" :key="item" @click="selectrecom(item)">
							<span class="zhushuspan" :class="[activerecom===item?'activerecommend':'']">{{item}}</span>
						</div>
					</div>
				</div>
				<div class="reswiper swiper-container">
					<div class="swiper-wrapper">
						<div class="swiper-slide reslide swiper-no-swiping" v-for="(item,keyn) in compu_recommendObj[activerecom]" :key="keyn">
							<a :href="wuitem.url" class="wupin" v-for="(wuitem,wuindex) in item" :key="wuitem.id">
								<img :src="wuitem.img" class="wuimg" />
								<div class="midwu">
									<div class="wutitle oneline">{{wuitem.title}}</div>
									<div class="wudesc oneline">{{wuitem.desc}}</div>
								</div>
								<div class="wuopera"><span>{{wuitem.type}}</span></div>
							</a>
						</div>
					</div>
				</div>
				<div class="operare">
					<div class="opwrap" @click="oppre">
						<img src="src/up.jpg" class="tri" >
					</div>
					<div class="opwrap" @click="opnext">
						<img src="src/down.jpg" class="tri" >
					</div>
				</div>
			 </div>
			<div class="news">
				<div class='text'>热卡推荐</div>
				<a class="newlist" v-for="item in newslist" :key="item.id" :href="item.url">
					<div class="newstitle">{{item.title}}</div>
					<img :src="item.img" class="newsimg" />
				<a>
			</div>
		</div>
	</body>
	<script src="js/vue.min.js"></script>
	<script src="js/swiper.min.js"></script>
	<script>
		function setHtmlFoot(){
			var win=document.documentElement||document.getElementsByTagName("html")[0];
			var winWidth=win.offsetWidth;
			var footsize=100*winWidth/750;
			win.style.fontSize=footsize+"px";
		}
		window.onpageshow=function(){
			setHtmlFoot();
		}
		setHtmlFoot();
		//截流
		function debounce(fn,time){
			var timer=null;
			return function(){
				clearTimeout(timer);
				var args=arguments;
				timer=setTimeout(function(){
					fn.apply(null,args);
					
				},time)
			}
		}
		var setsize=debounce(setHtmlFoot,300);
		window.onresize=function(){
			setsize();
		}
	</script>
	<script>
		var reswiper=null;
		//banner图
		window.onload=function(){
			var mySwiper = new Swiper ('.bannerswiper', {
			loop: true, // 循环模式选项
			autoplay: {
				delay: 6000,
				stopOnLastSlide: false,
				disableOnInteraction: false,
				},
			// 如果需要分页器
			pagination: {
			  el: '.swiper-pagination',
			}
		  })     
		  var onlineSwiper = new Swiper ('.onlineswiper', {
				slidesPerView : 4,
				slidesPerGroup : 1,
			  })
		  var recommendswiper=new Swiper ('.recommendswiper', {
				slidesPerView : 3,
				slidesPerGroup : 1,
			  })
		  reswiper=new Swiper ('.reswiper', {
			direction : 'vertical'
			})
		}
  </script>
	</script>
	<script>
		var vm=new Vue({
			el:'#app',
			data:{
				swipercount:1,//专属推荐页面个数
				bannerList: [
					{
						id:1,
						img:"./src/banner1.jpg",
						url:'./detail/banner1.html'
					},
					{
						id:2,
						img:"./src/banner2.jpg",
						url:'./detail/banner2.html'
					},
					{
						id:3,
						img:"./src/banner3.jpg",
						url:'./detail/banner3.html'
					}
				],
				onlinelist:[
				  {
					id:1,
					img: "./src/online1.jpg",
					text:'饮品随机减',
					ishot:true
				  },
				  {
					id: 2,
					img: "./src/online2.jpg",
					text: '5元抵扣券',
					ishot:false
				  },
				  {
					id: 3,
					img: "./src/online3.jpg",
					text: '领半价饭票',
					ishot:false
				  },
				  {
					id: 4,
					img: "./src/online4.jpg",
					text: '周三享5折',
					ishot:false
				  },
				  {
					id: 5,
					img: "./src/online5.jpg",
					text: '折扣券放送',
					ishot:false
				  }
				],
				tehui:[
					{
						id:1,
						img:"./src/top1.jpg",
						url:'./detail/top1.html'
					},
					{
						id:2, 
						img:"./src/top2.jpg",
						title:"刷卡返现畅游世界",
						name:"民生银行信用卡",
						url:'./detail/top2.html'
					},
					{
						id:3,
						img:"./src/top3.jpg",
						title:"6积分享超值好礼",
						name:"兴业银行信用卡",
						url:'./detail/top3.html'
					}
				],
				recommendlist:['浦发银行','中国银行','招商银行','邮储银行'],
				activerecom:'浦发银行',
				recommendObj:{
					'中国银行':[
						{
							id:1,
							img:'./src/zhong1.jpg',
							title:'快捷支付5倍积分',
							desc:'微信、支付宝、京东支付等',
							type:'查看详情',
							url:'https://mp.weixin.qq.com/s?__biz=MjM5MDcxNzI3NA==&mid=100006387&idx=1&sn=588510055648aa4ae2d482c9490cfc6b&chksm=2641ddc6113654d02ce3c630a4a202ebbf70febb3842b07dadd75509b9ca49613c991df6d977&mpshare=1&scene=1&srcid=0214rwk9ExkINuhdAAqQ8axX#rd'
						},
						{
							id:2,
							img:'./src/zhong2.jpg',
							title:'优惠购神州专车电子券',
							desc:'20元购50元乘车券',
							type:'查看详情',
							url:'https://mp.weixin.qq.com/s?__biz=MjM5MDcxNzI3NA==&mid=100006332&idx=2&sn=b61558ae71670d7eea8f7dfc5b0ad28f&chksm=2641dd891136549f295d48428b658c3a6b96236a0481d022b71608a0adb131b89d55896b153c&mpshare=1&scene=1&srcid=0214PGIwjdp6hBX7SEAZiiYX#rd'
						},
						{
							id:3,
							img:'./src/zhong3.jpg',
							title:'1元抢30元话费',
							desc:'手机银行信用卡新户专享',
							type:'立即抢购',
							url:'https://mp.weixin.qq.com/s?__biz=MjM5MDcxNzI3NA==&mid=100004987&idx=1&sn=b6721cfc9134f86383da8ee9f9f92c71&chksm=2641d04e11365958f2b419620cc038b4f004a3e9b89e2cf6a96731ba8200b061f6a5b9474f45&mpshare=1&scene=1&srcid=0214gC5J04AO2GWkBMFSrQtl#rd'
						},
						{
							id:4,
							img:'./src/zhong4.jpg',
							title:'每周二三五抢优惠券',
							desc:'手机银行App上午十点开抢',
							type:'立即领取',
							url:'https://mp.weixin.qq.com/s?__biz=MjM5MDcxNzI3NA==&mid=100004987&idx=2&sn=0425aa00c202251217da4442a705403e&chksm=2641d04e11365958c5f35fa75116a17b2f8b92f14cdb5a2a401424f9fbb0e3e63a9c9822dfb7&mpshare=1&scene=1&srcid=0214mcXDNgdo6JZix42BurOB#rd'
						},
						{
							id:5,
							img:'./src/zhong5.jpg',
							title:'网易严选5折购',
							desc:'最高立减15元',
							type:'查看详情',
							url:'https://mp.weixin.qq.com/s?__biz=MjM5MDcxNzI3NA==&mid=100006125&idx=2&sn=d6d6066efa256b8e0691fd16821edb9e&chksm=2641dcd8113655ce7aa26e383c49692a26c06a35887c6edec9ef9a24cd1cc669838fbf031248&mpshare=1&scene=1&srcid=0214DRQqFhmcDRR8ZFmnJVfS#rd'
						},
						{
							id:6,
							img:'./src/zhong5.jpg',
							title:'网易严选5折购',
							desc:'最高立减15元',
							type:'查看详情',
							url:'https://mp.weixin.qq.com/s?__biz=MjM5MDcxNzI3NA==&mid=100006125&idx=2&sn=d6d6066efa256b8e0691fd16821edb9e&chksm=2641dcd8113655ce7aa26e383c49692a26c06a35887c6edec9ef9a24cd1cc669838fbf031248&mpshare=1&scene=1&srcid=0214DRQqFhmcDRR8ZFmnJVfS#rd'
						}
					],
					'招商银行':[
						{
							id:1,
							img:'./src/zhao1.jpg',
							title:'看电影立减15',
							desc:'新户首购专享',
							type:'查看详情',
							url:'./detail.html?img=./src/link/detail7.jpg'
						},
						{
							id:2,
							img:'./src/zhao2.jpg',
							title:'哈根达斯7元抵扣券',
							desc:'满35元立减',
							type:'立即领取',
							url:'./detail.html?img=./src/link/detail8.jpg'
						},
						{
							id:3,
							img:'./src/zhao3.jpg',
							title:'星巴克8元抵扣券',
							desc:'满28元立减',
							type:'查看详情',
							url:'./detail.html?img=./src/link/detail9.jpg'
						},
						{
							id:4,
							img:'./src/zhao4.jpg',
							title:'精选美食周三5折',
							desc:'招行行用卡专享',
							type:'立即领取',
							url:'./detail.html?img=./src/link/detail10.jpg'
						},
						{
							id:5,
							img:'./src/zhao5.jpg',
							title:'品牌代金券大放送',
							desc:'掌上生活APP疯狂领',
							type:'查看详情',
							url:'./detail.html?img=./src/link/detail11.jpg'
						},
						{
							id:6,
							img:'./src/zhao5.jpg',
							title:'品牌代金券大放送',
							desc:'掌上生活APP疯狂领',
							type:'查看详情',
							url:'./detail.html?img=./src/link/detail11.jpg'
						}
					],
					'浦发银行':[
						{
							id:1,
							img:'./src/pu1.jpg',
							title:'刷卡金返还&多倍积分',
							desc:'\"小浦惠花\"指定商户专享',
							type:'立即申请',
							url:'https://mp.weixin.qq.com/s/tvfJGYGFeF6TUulxTW3HUQ'
						},
						{
							id:2,
							img:'./src/pu2.jpg',
							title:'境外刷卡享50元酒店好礼',
							desc:'单笔满200元即可使用',
							type:'立即申请',
							url:'https://ccc.spdb.com.cn/miniSite/1706/8575f20/'
						},
						{
							id:3,
							img:'./src/pu3.jpg',
							title:'浦发惠军联名卡荣耀上市',
							desc:'专属福利，月月有礼',
							type:'立即申请',
							url:'https://ccc.spdb.com.cn/miniSite/1714/a3667ff/'
						},
						{
							id:4,
							img:'./src/pu4.jpg',
							title:'猪小屁信用卡福气满满',
							desc:'首刷礼、福袋大放送',
							type:'立即申请',
							url:'https://ccc.spdb.com.cn/miniSite/1718/6b021d0/'
						},
						{
							id:5,
							img:'./src/pu5.jpg',
							title:'首绑支付宝享满88减10',
							desc:'每天上午八点起限量抢',
							type:'立即申请',
							url:'https://ccc.spdb.com.cn/miniSite/1722/543a007/'
						},
						{
							id:6,
							img:'./src/pu5.jpg',
							title:'首绑支付宝享满88减10',
							desc:'每天上午八点起限量抢',
							type:'立即申请',
							url:'https://ccc.spdb.com.cn/miniSite/1722/543a007/'
						}
					],
					'邮储银行':[
						{
							id:1,
							img:'./src/yc1.jpg',
							title:'办轻松小熊信用卡送好礼',
							desc:'正版周边钱包、卡套任意领',
							type:'查看详情',
							url:'./detail.html?img=./src/link/yc1.jpg'
						},
						{
							id:2,
							img:'./src/yc2.jpg',
							title:'下载信用卡App领话费',
							desc:'邮储信用卡App新户专享',
							type:'立即领取',
							url:'./detail.html?img=./src/link/yc2.jpg'
						},
						{
							id:3,
							img:'./src/yc3.jpg',
							title:'万事达信用卡境外刷卡返现',
							desc:'最高可返30%',
							type:'查看详情',
							url:'./detail.html?img=./src/link/yc3.jpg'
						},
						{
							id:4,
							img:'./src/yc4.jpg',
							title:'首刷&分期送百元礼券',
							desc:'加油券、话费、购物券',
							type:'查看详情',
							url:'./detail.html?img=./src/link/yc4.jpg'
						},
						{
							id:5,
							img:'./src/yc5.jpg',
							title:'华润万家购物最高立减50元',
							desc:'指定周六周日上午十点',
							type:'查看详情',
							url:'./detail.html?img=./src/link/yc5.jpg'
						},
						{
							id:6,
							img:'./src/yc5.jpg',
							title:'华润万家购物最高立减50元',
							desc:'指定周六周日上午十点',
							type:'查看详情',
							url:'./detail.html?img=./src/link/yc5.jpg'
						}
					]
				},
				newslist:[
					{
						id:1,
						title:'12306购票低至五折，马上出发！',
						img:'./src/news2.png',
						url:'./detail.html?img=./src/link/detail5.jpg'
					},
					{
						id:2,
						title:'推荐亲友办卡，最高可领500元天猫购物券，时间有限，速度扩散吧~',
						img:'./src/news1.png',
						url:'./detail.html?img=./src/link/detail6.jpg'
					}
				]
			},
			methods:{
				opnext:function(){
					reswiper.updateSlides();
					reswiper.slideNext();
				},
				oppre:function(){
					reswiper.slidePrev();
				},
				selectrecom:function(item){
					this.activerecom=item;
					reswiper.updateSlides();
					reswiper.slideTo(0,0);
				}
			},
			computed:{
				compu_recommendObj:function(){
					const recommendObj = this.recommendObj;
					const maxlength=5;
					const arr=[];
					const obj=JSON.parse(JSON.stringify(recommendObj));
					for(var item in obj){
						var oparr=obj[item];
						let len=oparr.length;
						var smallobj={};
						for(var i=0;i<len;i++){
							var index=Math.floor(i/maxlength);
							smallobj[index]=!!smallobj[index]?smallobj[index]:[];
							smallobj[index].push(oparr[i]);
						}
						obj[item]=smallobj;
					}
					return obj;
				}
			}
		})
	</script>
</html>